import DataGridTable from './ASDataGrid'

// Define columns as usual
const productionColumns = [
  {
    field: 'srNo',
    headerName: 'Sr. No',
    minWidth: 210,
    maxWidth: 200,
    editable: false,
    flex: 2,
  },
  {
    field: 'particulars',
    headerName: 'Particulars',
    minWidth: 150,
    maxWidth: 160,
    editable: true,
  },
  { field: 'unit', headerName: 'Unit', width: 100, editable: true },
  {
    field: 'norms',
    headerName: 'Norms',
    minWidth: 50,
    maxWidth: 70,
    editable: true,
  },
  { field: 'apr24', headerName: 'Apr-24', width: 100, editable: true },
  { field: 'may24', headerName: 'May-24', width: 100, editable: true },
  { field: 'jun24', headerName: 'Jun-24', width: 100, editable: true },
  { field: 'jul24', headerName: 'Jul-24', width: 100, editable: true },
  { field: 'aug24', headerName: 'Aug-24', width: 100, editable: true },
  { field: 'sep24', headerName: 'Sep-24', width: 100, editable: true },
  { field: 'oct24', headerName: 'Oct-24', width: 100, editable: true },
  { field: 'nov24', headerName: 'Nov-24', width: 100, editable: true },
  { field: 'dec24', headerName: 'Dec-24', width: 100, editable: true },
  { field: 'jan25', headerName: 'Jan-25', width: 100, editable: true },
  { field: 'feb25', headerName: 'Feb-25', width: 100, editable: true },
  { field: 'mar25', headerName: 'Mar-25', width: 100, editable: true },
  {
    field: 'remark',
    headerName: 'Remark',
    minWidth: 180,
    maxWidth: 200,
    editable: true,
  },
]

// Sample production data (10 rows)
// const productionData = [
//   {
//     id: 1,
//     srNo: 1,
//     particulars: 'Material A',
//     unit: 'Kg',
//     apr24: 50,
//     may24: 60,
//     jun24: 55,
//     jul24: 70,
//     aug24: 65,
//     sep24: 75,
//     oct24: 80,
//     nov24: 85,
//     dec24: 90,
//     jan25: 95,
//     feb25: 85,
//     mar25: 100,
//     remark: 'Stock Updated',
//   },
//   {
//     id: 2,
//     srNo: 2,
//     particulars: 'Material B',
//     unit: 'Litre',
//     apr24: 30,
//     may24: 40,
//     jun24: 35,
//     jul24: 45,
//     aug24: 50,
//     sep24: 55,
//     oct24: 60,
//     nov24: 65,
//     dec24: 70,
//     jan25: 75,
//     feb25: 65,
//     mar25: 80,
//     remark: 'Reorder Needed',
//   },
//   {
//     id: 3,
//     srNo: 3,
//     particulars: 'Material C',
//     unit: 'Pcs',
//     apr24: 100,
//     may24: 120,
//     jun24: 110,
//     jul24: 130,
//     aug24: 125,
//     sep24: 135,
//     oct24: 140,
//     nov24: 145,
//     dec24: 150,
//     jan25: 155,
//     feb25: 145,
//     mar25: 160,
//     remark: 'Sufficient Stock',
//   },
//   {
//     id: 4,
//     srNo: 4,
//     particulars: 'Material D',
//     unit: 'Kg',
//     apr24: 20,
//     may24: 25,
//     jun24: 30,
//     jul24: 35,
//     aug24: 30,
//     sep24: 40,
//     oct24: 45,
//     nov24: 50,
//     dec24: 55,
//     jan25: 60,
//     feb25: 50,
//     mar25: 65,
//     remark: 'Check Expiry',
//   },
//   {
//     id: 5,
//     srNo: 5,
//     particulars: 'Material E',
//     unit: 'Box',
//     apr24: 5,
//     may24: 10,
//     jun24: 15,
//     jul24: 20,
//     aug24: 25,
//     sep24: 30,
//     oct24: 35,
//     nov24: 40,
//     dec24: 45,
//     jan25: 50,
//     feb25: 40,
//     mar25: 55,
//     remark: 'New Shipment Arrived',
//   },
//   {
//     id: 6,
//     srNo: 6,
//     particulars: 'Material F',
//     unit: 'Tonne',
//     apr24: 15,
//     may24: 20,
//     jun24: 18,
//     jul24: 25,
//     aug24: 22,
//     sep24: 28,
//     oct24: 30,
//     nov24: 32,
//     dec24: 35,
//     jan25: 38,
//     feb25: 34,
//     mar25: 40,
//     remark: 'Monitor Usage',
//   },
//   {
//     id: 7,
//     srNo: 7,
//     particulars: 'Material G',
//     unit: 'Meter',
//     apr24: 200,
//     may24: 220,
//     jun24: 210,
//     jul24: 250,
//     aug24: 230,
//     sep24: 270,
//     oct24: 280,
//     nov24: 290,
//     dec24: 300,
//     jan25: 310,
//     feb25: 290,
//     mar25: 320,
//     remark: 'Stable Supply',
//   },
//   {
//     id: 8,
//     srNo: 8,
//     particulars: 'Material H',
//     unit: 'Kg',
//     apr24: 12,
//     may24: 18,
//     jun24: 16,
//     jul24: 20,
//     aug24: 22,
//     sep24: 24,
//     oct24: 26,
//     nov24: 28,
//     dec24: 30,
//     jan25: 32,
//     feb25: 28,
//     mar25: 35,
//     remark: 'Low Demand',
//   },
//   {
//     id: 9,
//     srNo: 9,
//     particulars: 'Material I',
//     unit: 'Litre',
//     apr24: 55,
//     may24: 60,
//     jun24: 58,
//     jul24: 70,
//     aug24: 68,
//     sep24: 75,
//     oct24: 80,
//     nov24: 85,
//     dec24: 90,
//     jan25: 95,
//     feb25: 88,
//     mar25: 100,
//     remark: 'Reorder Soon',
//   },
//   {
//     id: 10,
//     srNo: 10,
//     particulars: 'Material J',
//     unit: 'Box',
//     apr24: 8,
//     may24: 12,
//     jun24: 10,
//     jul24: 15,
//     aug24: 14,
//     sep24: 18,
//     oct24: 20,
//     nov24: 22,
//     dec24: 24,
//     jan25: 26,
//     feb25: 23,
//     mar25: 28,
//     remark: 'New Variant Available',
//   },
//   {
//     id: 1,
//     srNo: 1,
//     particulars: 'Equipment A',
//     unit: 'Hours',
//     norms: 10,
//     apr24: '',
//     may24: '',
//     jun24: '',
//     jul24: '',
//     aug24: '',
//     sep24: '',
//     oct24: '',
//     nov24: '',
//     dec24: '',
//     jan25: '',
//     feb25: '',
//     mar25: '',
//     remark: '',
//   },
//   {
//     id: 2,
//     srNo: 2,
//     particulars: 'Equipment B',
//     unit: 'Days',
//     norms: 2,
//     apr24: '',
//     may24: '',
//     jun24: '',
//     jul24: '',
//     aug24: '',
//     sep24: '',
//     oct24: '',
//     nov24: '',
//     dec24: '',
//     jan25: '',
//     feb25: '',
//     mar25: '',
//     remark: '',
//   },
//   {
//     id: 3,
//     srNo: 3,
//     particulars: 'Material C',
//     unit: 'Kg',
//     norms: 50,
//     apr24: '',
//     may24: '',
//     jun24: '',
//     jul24: '',
//     aug24: '',
//     sep24: '',
//     oct24: '',
//     nov24: '',
//     dec24: '',
//     jan25: '',
//     feb25: '',
//     mar25: '',
//     remark: '',
//   },
//   {
//     id: 4,
//     srNo: 4,
//     particulars: 'Tool D',
//     unit: 'Pcs',
//     norms: 5,
//     apr24: '',
//     may24: '',
//     jun24: '',
//     jul24: '',
//     aug24: '',
//     sep24: '',
//     oct24: '',
//     nov24: '',
//     dec24: '',
//     jan25: '',
//     feb25: '',
//     mar25: '',
//     remark: '',
//   },
//   {
//     id: 5,
//     srNo: 5,
//     particulars: 'Machine E',
//     unit: 'Hours',
//     norms: 20,
//     apr24: '',
//     may24: '',
//     jun24: '',
//     jul24: '',
//     aug24: '',
//     sep24: '',
//     oct24: '',
//     nov24: '',
//     dec24: '',
//     jan25: '',
//     feb25: '',
//     mar25: '',
//     remark: '',
//   },
//   {
//     id: 6,
//     srNo: 6,
//     particulars: 'Component F',
//     unit: 'Litres',
//     norms: 15,
//     apr24: '',
//     may24: '',
//     jun24: '',
//     jul24: '',
//     aug24: '',
//     sep24: '',
//     oct24: '',
//     nov24: '',
//     dec24: '',
//     jan25: '',
//     feb25: '',
//     mar25: '',
//     remark: '',
//   },
//   {
//     id: 7,
//     srNo: 7,
//     particulars: 'System G',
//     unit: 'Units',
//     norms: 3,
//     apr24: '',
//     may24: '',
//     jun24: '',
//     jul24: '',
//     aug24: '',
//     sep24: '',
//     oct24: '',
//     nov24: '',
//     dec24: '',
//     jan25: '',
//     feb25: '',
//     mar25: '',
//     remark: '',
//   },
//   {
//     id: 8,
//     srNo: 8,
//     particulars: 'Gear H',
//     unit: 'Sets',
//     norms: 8,
//     apr24: '',
//     may24: '',
//     jun24: '',
//     jul24: '',
//     aug24: '',
//     sep24: '',
//     oct24: '',
//     nov24: '',
//     dec24: '',
//     jan25: '',
//     feb25: '',
//     mar25: '',
//     remark: '',
//   },
//   {
//     id: 9,
//     srNo: 9,
//     particulars: 'Pump I',
//     unit: 'Hours',
//     norms: 12,
//     apr24: '',
//     may24: '',
//     jun24: '',
//     jul24: '',
//     aug24: '',
//     sep24: '',
//     oct24: '',
//     nov24: '',
//     dec24: '',
//     jan25: '',
//     feb25: '',
//     mar25: '',
//     remark: '',
//   },
//   {
//     id: 10,
//     srNo: 10,
//     particulars: 'Sensor J',
//     unit: 'Pcs',
//     norms: 6,
//     apr24: '',
//     may24: '',
//     jun24: '',
//     jul24: '',
//     aug24: '',
//     sep24: '',
//     oct24: '',
//     nov24: '',
//     dec24: '',
//     jan25: '',
//     feb25: '',
//     mar25: '',
//     remark: '',
//   },
// ]
const productionData = [
  // Rows 1 - 10: Month values are filled; norms is empty
  {
    id: 1,
    srNo: 1,
    particulars: 'Material A',
    unit: 'Kg',
    norms: '',
    apr24: 50,
    may24: 60,
    jun24: 55,
    jul24: 70,
    aug24: 65,
    sep24: 75,
    oct24: 80,
    nov24: 85,
    dec24: 90,
    jan25: 95,
    feb25: 85,
    mar25: 100,
    remark: 'Stock Updated',
  },
  {
    id: 2,
    srNo: 2,
    particulars: 'Material B',
    unit: 'Litre',
    norms: '',
    apr24: 30,
    may24: 40,
    jun24: 35,
    jul24: 45,
    aug24: 50,
    sep24: 55,
    oct24: 60,
    nov24: 65,
    dec24: 70,
    jan25: 75,
    feb25: 65,
    mar25: 80,
    remark: 'Reorder Needed',
  },
  {
    id: 3,
    srNo: 3,
    particulars: 'Material C',
    unit: 'Pcs',
    norms: '',
    apr24: 100,
    may24: 120,
    jun24: 110,
    jul24: 130,
    aug24: 125,
    sep24: 135,
    oct24: 140,
    nov24: 145,
    dec24: 150,
    jan25: 155,
    feb25: 145,
    mar25: 160,
    remark: 'Sufficient Stock',
  },
  {
    id: 4,
    srNo: 4,
    particulars: 'Material D',
    unit: 'Kg',
    norms: '',
    apr24: 20,
    may24: 25,
    jun24: 30,
    jul24: 35,
    aug24: 30,
    sep24: 40,
    oct24: 45,
    nov24: 50,
    dec24: 55,
    jan25: 60,
    feb25: 50,
    mar25: 65,
    remark: 'Check Expiry',
  },
  {
    id: 5,
    srNo: 5,
    particulars: 'Material E',
    unit: 'Box',
    norms: '',
    apr24: 5,
    may24: 10,
    jun24: 15,
    jul24: 20,
    aug24: 25,
    sep24: 30,
    oct24: 35,
    nov24: 40,
    dec24: 45,
    jan25: 50,
    feb25: 40,
    mar25: 55,
    remark: 'New Shipment Arrived',
  },
  {
    id: 6,
    srNo: 6,
    particulars: 'Material F',
    unit: 'Tonne',
    norms: '',
    apr24: 15,
    may24: 20,
    jun24: 18,
    jul24: 25,
    aug24: 22,
    sep24: 28,
    oct24: 30,
    nov24: 32,
    dec24: 35,
    jan25: 38,
    feb25: 34,
    mar25: 40,
    remark: 'Monitor Usage',
  },
  {
    id: 7,
    srNo: 7,
    particulars: 'Material G',
    unit: 'Meter',
    norms: '',
    apr24: 200,
    may24: 220,
    jun24: 210,
    jul24: 250,
    aug24: 230,
    sep24: 270,
    oct24: 280,
    nov24: 290,
    dec24: 300,
    jan25: 310,
    feb25: 290,
    mar25: 320,
    remark: 'Stable Supply',
  },
  //   {
  //     id: 8,
  //     srNo: 8,
  //     particulars: 'Material H',
  //     unit: 'Kg',
  //     norms: '',
  //     apr24: 12,
  //     may24: 18,
  //     jun24: 16,
  //     jul24: 20,
  //     aug24: 22,
  //     sep24: 24,
  //     oct24: 26,
  //     nov24: 28,
  //     dec24: 30,
  //     jan25: 32,
  //     feb25: 28,
  //     mar25: 35,
  //     remark: 'Low Demand',
  //   },
  //   {
  //     id: 9,
  //     srNo: 9,
  //     particulars: 'Material I',
  //     unit: 'Litre',
  //     norms: '',
  //     apr24: 55,
  //     may24: 60,
  //     jun24: 58,
  //     jul24: 70,
  //     aug24: 68,
  //     sep24: 75,
  //     oct24: 80,
  //     nov24: 85,
  //     dec24: 90,
  //     jan25: 95,
  //     feb25: 88,
  //     mar25: 100,
  //     remark: 'Reorder Soon',
  //   },
  //   {
  //     id: 10,
  //     srNo: 10,
  //     particulars: 'Material J',
  //     unit: 'Box',
  //     norms: '',
  //     apr24: 8,
  //     may24: 12,
  //     jun24: 10,
  //     jul24: 15,
  //     aug24: 14,
  //     sep24: 18,
  //     oct24: 20,
  //     nov24: 22,
  //     dec24: 24,
  //     jan25: 26,
  //     feb25: 23,
  //     mar25: 28,
  //     remark: 'New Variant Available',
  //   },

  // Rows 11 - 20: Month values are empty; norms is filled with sample/random values
  {
    id: 11,
    srNo: 8,
    particulars: 'Equipment A',
    unit: 'Hours',
    norms: 10, // sample value
    apr24: '',
    may24: '',
    jun24: '',
    jul24: '',
    aug24: '',
    sep24: '',
    oct24: '',
    nov24: '',
    dec24: '',
    jan25: '',
    feb25: '',
    mar25: '',
    remark: '',
  },
  {
    id: 12,
    srNo: 9,
    particulars: 'Equipment B',
    unit: 'Days',
    norms: 2,
    apr24: '',
    may24: '',
    jun24: '',
    jul24: '',
    aug24: '',
    sep24: '',
    oct24: '',
    nov24: '',
    dec24: '',
    jan25: '',
    feb25: '',
    mar25: '',
    remark: '',
  },
  {
    id: 13,
    srNo: 10,
    particulars: 'Material C',
    unit: 'Kg',
    norms: 50,
    apr24: '',
    may24: '',
    jun24: '',
    jul24: '',
    aug24: '',
    sep24: '',
    oct24: '',
    nov24: '',
    dec24: '',
    jan25: '',
    feb25: '',
    mar25: '',
    remark: '',
  },
  {
    id: 14,
    srNo: 11,
    particulars: 'Tool D',
    unit: 'Pcs',
    norms: 5,
    apr24: '',
    may24: '',
    jun24: '',
    jul24: '',
    aug24: '',
    sep24: '',
    oct24: '',
    nov24: '',
    dec24: '',
    jan25: '',
    feb25: '',
    mar25: '',
    remark: '',
  },
  {
    id: 15,
    srNo: 12,
    particulars: 'Machine E',
    unit: 'Hours',
    norms: 20,
    apr24: '',
    may24: '',
    jun24: '',
    jul24: '',
    aug24: '',
    sep24: '',
    oct24: '',
    nov24: '',
    dec24: '',
    jan25: '',
    feb25: '',
    mar25: '',
    remark: '',
  },
  {
    id: 16,
    srNo: 13,
    particulars: 'Component F',
    unit: 'Litres',
    norms: 15,
    apr24: '',
    may24: '',
    jun24: '',
    jul24: '',
    aug24: '',
    sep24: '',
    oct24: '',
    nov24: '',
    dec24: '',
    jan25: '',
    feb25: '',
    mar25: '',
    remark: '',
  },
  {
    id: 17,
    srNo: 14,
    particulars: 'System G',
    unit: 'Units',
    norms: 3,
    apr24: '',
    may24: '',
    jun24: '',
    jul24: '',
    aug24: '',
    sep24: '',
    oct24: '',
    nov24: '',
    dec24: '',
    jan25: '',
    feb25: '',
    mar25: '',
    remark: '',
  },
  {
    id: 18,
    srNo: 15,
    particulars: 'Gear H',
    unit: 'Sets',
    norms: 8,
    apr24: '',
    may24: '',
    jun24: '',
    jul24: '',
    aug24: '',
    sep24: '',
    oct24: '',
    nov24: '',
    dec24: '',
    jan25: '',
    feb25: '',
    mar25: '',
    remark: '',
  },
  {
    id: 19,
    srNo: 9,
    particulars: 'Pump I',
    unit: 'Hours',
    norms: 12,
    apr24: '',
    may24: '',
    jun24: '',
    jul24: '',
    aug24: '',
    sep24: '',
    oct24: '',
    nov24: '',
    dec24: '',
    jan25: '',
    feb25: '',
    mar25: '',
    remark: '',
  },
  {
    id: 20,
    srNo: 10,
    particulars: 'Sensor J',
    unit: 'Pcs',
    norms: 6,
    apr24: '',
    may24: '',
    jun24: '',
    jul24: '',
    aug24: '',
    sep24: '',
    oct24: '',
    nov24: '',
    dec24: '',
    jan25: '',
    feb25: '',
    mar25: '',
    remark: '',
  },
]

// Create groups by inserting a row with a groupHeader property
const rawMaterialsData = productionData.slice(0, 2) // 2 rows for Raw Materials
const byProductsData = productionData.slice(2, 5) // 3 rows for By Products
const calChemData = productionData.slice(5, 15) // 1 row for Cal-chem

const groupedRows = [
  { id: 'group-raw', groupHeader: 'Raw Materials' },
  ...rawMaterialsData,
  { id: 'group-by', groupHeader: 'By Products' },
  ...byProductsData,
  { id: 'group-cal', groupHeader: 'Cat-chem' },
  ...calChemData,
]

// Custom render function for cells
const groupRenderCell = (params) => {
  if (params.row.groupHeader) {
    // In the first column show the group title
    if (params.field === 'srNo') {
      return (
        <span
          style={{
            fontWeight: 'bold',
            padding: '4px 8px',
          }}
        >
          {params.row.groupHeader}
        </span>
      )
    }
    // For other columns, render empty
    return ''
  }
  return params.value
}

// Enhance columns to use the custom render function
const enhancedColumns = productionColumns.map((col) => ({
  ...col,
  renderCell: groupRenderCell,
}))

const NormalOpNormsScreen = () => {
  return (
    <div>
      <DataGridTable
        columns={enhancedColumns}
        rows={groupedRows}
        title='Consumption Norms'
        onAddRow={(newRow) => console.log('New Row Added:', newRow)}
        onDeleteRow={(id) => console.log('Row Deleted:', id)}
        onRowUpdate={(updatedRow) => console.log('Row Updated:', updatedRow)}
        paginationOptions={[100, 200, 300]}
        permissions={{
          showAction: true,
          addButton: false,
          deleteButton: false,
          editButton: true,
          showUnit: true,
          saveWithRemark: true,
        }}
        getRowClassName={(params) =>
          params.row.groupHeader ? 'group-header-row' : ''
        }
        sx={{
          '& .group-header-row .MuiDataGrid-cell': {
            borderRight: 'none !important',
          },
          '& .MuiDataGrid-row.MuiDataGrid-row--firstVisible:nth-child(even) .MuiDataGrid-cell':
            {
              borderRight: 'none !important',
            },
        }}
      />
    </div>
  )
}

export default NormalOpNormsScreen
